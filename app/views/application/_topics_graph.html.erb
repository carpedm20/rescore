<script type="text/javascript">
  $(document).ready(function(){

    var options = {
      scaleBeginAtZero : false,
      scaleShowGridLines : true,
      scaleGridLineColor : "rgba(0,0,0,.05)",
      scaleGridLineWidth : 1,
      scaleShowHorizontalLines: true,
      scaleShowVerticalLines: true,
      barShowStroke : true,
      barStrokeWidth : 2,
      barValueSpacing : 5,
      barDatasetSpacing : 1,
      legendTemplate : ""
    };

    var data = {
        labels: <%= topics.map { |x| x[0].to_s.capitalize }.to_s.html_safe %>,
        datasets: [
            {
                label: "Topics",
                fillColor: "rgba(220,220,220,0.5)",
                strokeColor: "rgba(220,220,220,0.8)",
                highlightFill: "rgba(220,220,220,0.75)",
                highlightStroke: "rgba(220,220,220,1)",
                data: <%= topics.map { |x| x[1] } %>
            }
        ]
    };

    var ctx_topics = $("#topics").get(0).getContext("2d");
    var topicsChart = new Chart(ctx_topics).Bar(data, { barShowStroke: false });
  })
</script>

<canvas id="topics" width="400" height="400"></canvas>
